<div class="contenedor-tabla">


    <div class="row">

        <div class="contenedor-filtro linea-bottom-primario">
            <div class="row">
                <p>Auxiliar de Cuentas</p>
            </div>

            <div class="row mb-2">
                <form autocomplete="off" [formGroup]="val.ValForm">
                    <div class="row">


                        <div class="col-12 col-md-12 col-lg-6">
                            <div class="row">
                                <div class="col-6 col-md-6 col-lg-6 mb-1">
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-calendar"></i></span>
                                        <div class="form-floating">
                                            <input type="date" id="txtFecha1" class="form-control"
                                                placeholder="Fecha Inicio" aria-label="Fecha Final"
                                                formControlName="txtFecha1">
                                            <label for="txtFecha1">Desde</label>

                                        </div>

                                    </div>
                                </div>
                                <div class="col-6 col-md-6 col-lg-6 px-1 mb-1">
                                    <div class="input-group">

                                        <div class="form-floating">
                                            <input type="date" id="txtFecha2" class="form-control"
                                                placeholder="Fecha Final" aria-label="Fecha Final"
                                                formControlName="txtFecha2">
                                            <label for="txtFecha2">Hasta</label>

                                        </div>

                                        <span class="input-group-text"> <button type="button"
                                                class="btn btn-refescar" (click)="v_CargarDatos();"><i
                                                    class="fa-solid fa-arrows-rotate fa-beat-fade fa-lg"></i></button></span>
                                    </div>
                                </div>
                            </div>

                        </div>



                        <div class="col-12 col-md-12 col-lg-6">

                            <div class="row">
                                <div class="col-12 col-md-12 col-lg-6 mb-1">
                                    <igx-combo #cmbBodega [data]="lstBodega" valueKey="Codigo" displayKey="Bodega"
                                        id="txtBodega" formControlName="txtBodega" placeholder="Bodega"
                                        searchPlaceholder="Seleccione una bodega..." [autoFocusSearch]="true"
                                        [overlaySettings]="overlaySettings"
                                        (selectionChanging)="v_Select_Bodega($event)" (keyup)="v_Enter_Bodega($event);">
                                        <label igxLabel>Bodega</label>
                                        <igx-prefix><i class="bi bi-shop fa-lg"></i></igx-prefix>
                                    </igx-combo>

                                </div>

                                <div class="col-12 col-md-12 col-lg-6 mb-1">
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="fab fa-cuttlefish fa-lg"></i></span>

                                        <div class="form-floating">
                                            <input type="text" id="txtCuenta-Asiento" class="form-control"
                                                placeholder="Cuenta" aria-label="Cuenta"
                                                formControlName="txtCuenta-Asiento" (keyup)="v_Filtrar($event)">
                                            <label for="txtCuenta-Asiento">Cuenta</label>

                                        </div>
                                        <span class="input-group-text"><button type="button" class="btn btn-secundario"
                                                id="btnRefrescar-Auxiliar" (click)="v_CargarDatos();"><i
                                                    class="fa-solid fa-arrows-rotate fa-spin fa-lg"></i>
                                                Refrescar</button></span>

                                    </div>

                                </div>

                            </div>




                        </div>




                    </div>
                </form>
            </div>


            <div class="row mb-1">
                <div class="saldo-inicial">
                    <span><b>Saldo Ant.:</b></span>
                    <span>{{SaldoInicial | number : '1.2-2'}}</span>
                </div>



            </div>
        </div>

    </div>




    <div class="mat-elevation-z8">
        <table class="table table-hover  table-sm tabla-layout" mat-table [dataSource]="lstAuxiliar">


            <ng-container matColumnDef="Fecha">
                <th mat-header-cell *matHeaderCellDef> <span class="texto">Fecha</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col">
                    <div class="texto">
                        <div class="mobile-label">Fecha:</div>
                        <div>{{det.Fecha | date : "dd/MM/yyyy"}}</div>
                    </div>
                </td>
            </ng-container>


            <ng-container matColumnDef="NoDoc">
                <th mat-header-cell *matHeaderCellDef> <span class="texto">Documento</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col">
                    <div class="texto">
                        <div class="mobile-label">Documento:</div>
                        <div>{{det.NoDoc}}</div>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="Cuenta">
                <th mat-header-cell *matHeaderCellDef> <span class="texto">Cuenta</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col">
                    <div class="texto">
                        <div class="mobile-label">Cuenta:</div>
                        <div>{{det.Cuenta}} - {{det.Concepto}}</div>
 
                    </div>

                </td>
            </ng-container>


            <ng-container matColumnDef="Referencia">
                <th mat-header-cell *matHeaderCellDef> <span class="texto">Referencia</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col"> 
                    <div class="texto">
                        <span class="mobile-label">Referencia:</span>
                        <div>{{det.Referencia}}</div>
                    </div> 
                </td>
            </ng-container>

            <ng-container matColumnDef="DEBE">
                <th mat-header-cell *matHeaderCellDef> <span class="numero">Debe</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col debe">
                    <div class="numero">
                        <div class="mobile-label">Debe</div>
                        <div class="mobile-label">Haber</div>
                        <div>{{det.DEBE | number : '1.2-2'}}</div>
                        <div>{{det.HABER | number : '1.2-2'}}</div>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="HABER">
                <th mat-header-cell *matHeaderCellDef> <span class="numero">Haber</span> </th>
                <td mat-cell *matCellDef="let det" class="mobile-col haber">
                    <div class="numero">
                        <div>{{det.HABER | number : '1.2-2'}}</div>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="Cuenta_Padre">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let det" class="mobile-col">
                    <span class="evento">



                        <button *ngIf="det.NoDoc != ''" type="button" class="btn" (click)="v_Editar(det)"><i
                                class="fa-solid fa-eye fa-beat-fade fa-lg primario"></i></button>

                        <button *ngIf="det.NoDoc == ''" type="button" class="btn" (click)="v_Buscar(det, 'H')"><i
                                class="fa-solid fa-diagram-next fa-lg"></i></button>
                        <button *ngIf="det.Cuenta.toString().length > 1" type="button" class="btn"
                            (click)="v_Buscar(det, 'P')"><i class="fa-solid fa-arrow-left fa-lg"></i></button>
                    </span>

                </td>
            </ng-container>







            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="columna-titulo"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="linea-bottom-secundario dashed">
            </tr>


        </table>
        <mat-paginator [pageSizeOptions]="[100, 200]" class="mat-paginator-sticky"></mat-paginator>


    </div>


    <div class="row">
        <div class="pie">
            <div class="saldo-final">
                <span><b>Saldo Final:</b></span>
                <span>{{SaldoFinal | number : '1.2-2'}}</span>
            </div>
        </div>



    </div>
</div>